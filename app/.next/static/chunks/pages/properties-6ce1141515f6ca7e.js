(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{4715:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties",function(){return s(5912)}])},5912:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(4246),r=s(7378);function n(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,l]=(0,r.useState)(null),[i,d]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=async()=>{try{n(!0);let e="/api/properties";i&&(e="/api/properties/search?q=".concat(encodeURIComponent(i)));let s=await fetch(e);if(!s.ok)throw Error("Failed: ".concat(s.status));t(await s.json())}catch(e){l(e.message)}finally{n(!1)}},s=setTimeout(()=>{e()},500);return()=>clearTimeout(s)},[i]),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Properties"}),(0,a.jsx)("input",{type:"text",placeholder:"Search properties...",value:i,onChange:e=>d(e.target.value),className:"px-4 py-2 border rounded-md"})]}),s&&(0,a.jsx)("div",{children:"Loadingâ€¦"}),c&&(0,a.jsx)("div",{className:"text-red-600",children:c}),!s&&!c&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left border",children:[(0,a.jsx)("thead",{className:"border-b bg-slate-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3",children:"Address"}),(0,a.jsx)("th",{className:"p-3",children:"City"}),(0,a.jsx)("th",{className:"p-3",children:"State"}),(0,a.jsx)("th",{className:"p-3 text-center",children:"Units"}),(0,a.jsx)("th",{className:"p-3 text-right",children:"Rent (Gross)"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>{var t;return(0,a.jsxs)("tr",{className:"border-b hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"p-3",children:e.address}),(0,a.jsx)("td",{className:"p-3",children:e.city||"-"}),(0,a.jsx)("td",{className:"p-3",children:e.state||"-"}),(0,a.jsx)("td",{className:"p-3 text-center",children:null!==(t=e.units)&&void 0!==t?t:1}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.rental_income?"$".concat(Number(e.rental_income).toLocaleString()):"-"})]},e.id)})})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4715)}),_N_E=e.O()}]);