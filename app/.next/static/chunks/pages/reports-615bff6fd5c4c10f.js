(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{2062:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return t(184)}])},184:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(4246),l=t(7378);function n(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)([]),[r,c]=(0,l.useState)(!0),[i,d]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([fetch("/api/reports/pl?startDate=2024-01-01&endDate=2024-12-31"),fetch("/api/reports/rent-roll")]);if(!e.ok)throw Error("P&L failed: ".concat(e.status));if(!t.ok)throw Error("Rent Roll failed: ".concat(t.status));s(await e.json());let a=await t.json();n(a.leases)}catch(e){d(e.message)}finally{c(!1)}})()},[]),(0,a.jsxs)("main",{className:"p-6 space-y-6",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Reports"}),r&&(0,a.jsx)("div",{children:"Loading…"}),i&&(0,a.jsx)("div",{className:"text-red-600",children:i}),e&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Profit & Loss"}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Income: $",e.income.toLocaleString()]}),(0,a.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Expenses: $",e.expenses.toLocaleString()]}),(0,a.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Net: $",e.net.toLocaleString()]}),(0,a.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Period: ",e.startDate," → ",e.endDate]})]})]}),t.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Rent Roll"}),(0,a.jsxs)("table",{className:"min-w-full text-left border",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b bg-slate-50",children:[(0,a.jsx)("th",{className:"p-2",children:"Property"}),(0,a.jsx)("th",{className:"p-2",children:"Unit"}),(0,a.jsx)("th",{className:"p-2",children:"Tenant"}),(0,a.jsx)("th",{className:"p-2",children:"Rent"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"p-2",children:e.address}),(0,a.jsx)("td",{className:"p-2",children:e.unit_label||"-"}),(0,a.jsx)("td",{className:"p-2",children:e.tenant_name||"-"}),(0,a.jsxs)("td",{className:"p-2",children:["$",e.rent_amount.toLocaleString()]})]},e.lease_id))})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2062)}),_N_E=e.O()}]);