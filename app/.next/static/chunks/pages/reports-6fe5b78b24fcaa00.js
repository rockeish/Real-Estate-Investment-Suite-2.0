(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{4284:function(e,t,n){"use strict";var r,s;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(s=n.g.process)?void 0:s.env)?n.g.process:n(6118)},2062:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return n(184)}])},184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(4246),s=n(7378);let i=n(4284).env.NEXT_PUBLIC_API_BASE||"";function o(){let[e,t]=(0,s.useState)(null),[n,o]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),[l,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let[e,n]=await Promise.all([fetch("".concat(i,"/api/reports/pl?startDate=2024-01-01&endDate=2024-12-31")),fetch("".concat(i,"/api/reports/rent-roll"))]);if(!e.ok)throw Error("P&L failed: ".concat(e.status));if(!n.ok)throw Error("Rent Roll failed: ".concat(n.status));t(await e.json());let r=await n.json();o(r.leases)}catch(e){u(e.message)}finally{c(!1)}})()},[]),(0,r.jsxs)("main",{className:"p-6 space-y-6",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Reports"}),a&&(0,r.jsx)("div",{children:"Loading…"}),l&&(0,r.jsx)("div",{className:"text-red-600",children:l}),e&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"font-semibold mb-2",children:"Profit & Loss"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Income: $",e.income.toLocaleString()]}),(0,r.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Expenses: $",e.expenses.toLocaleString()]}),(0,r.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Net: $",e.net.toLocaleString()]}),(0,r.jsxs)("div",{className:"p-3 rounded bg-slate-50",children:["Period: ",e.startDate," → ",e.endDate]})]})]}),n.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"font-semibold mb-2",children:"Rent Roll"}),(0,r.jsxs)("table",{className:"min-w-full text-left border",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-slate-50",children:[(0,r.jsx)("th",{className:"p-2",children:"Property"}),(0,r.jsx)("th",{className:"p-2",children:"Unit"}),(0,r.jsx)("th",{className:"p-2",children:"Tenant"}),(0,r.jsx)("th",{className:"p-2",children:"Rent"})]})}),(0,r.jsx)("tbody",{children:n.map(e=>(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"p-2",children:e.address}),(0,r.jsx)("td",{className:"p-2",children:e.unit_label||"-"}),(0,r.jsx)("td",{className:"p-2",children:e.tenant_name||"-"}),(0,r.jsxs)("td",{className:"p-2",children:["$",e.rent_amount.toLocaleString()]})]},e.lease_id))})]})]})]})}},6118:function(e){!function(){var t={229:function(e){var t,n,r,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c=[],l=!1,u=-1;function d(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={exports:{}},o=!0;try{t[e](i,i.exports,r),o=!1}finally{o&&delete n[e]}return i.exports}r.ab="//";var s=r(229);e.exports=s}()}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2062)}),_N_E=e.O()}]);