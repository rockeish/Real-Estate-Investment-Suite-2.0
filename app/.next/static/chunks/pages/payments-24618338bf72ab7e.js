(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{4395:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payments",function(){return t(6291)}])},6291:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(4246),n=t(7378);function c(){let[e,s]=(0,n.useState)([]),[t,c]=(0,n.useState)(!0),[l,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/payments");if(!e.ok)throw Error("Failed: ".concat(e.status));s(await e.json())}catch(e){r(e.message)}finally{c(!1)}})()},[]),(0,a.jsxs)("main",{className:"p-6 space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Payments"}),t&&(0,a.jsx)("div",{children:"Loadingâ€¦"}),l&&(0,a.jsx)("div",{className:"text-red-600",children:l}),!t&&!l&&(0,a.jsxs)("table",{className:"min-w-full text-left border",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b bg-slate-50",children:[(0,a.jsx)("th",{className:"p-2",children:"Property"}),(0,a.jsx)("th",{className:"p-2",children:"Tenant"}),(0,a.jsx)("th",{className:"p-2",children:"Due Date"}),(0,a.jsx)("th",{className:"p-2",children:"Amount Due"}),(0,a.jsx)("th",{className:"p-2",children:"Amount Paid"}),(0,a.jsx)("th",{className:"p-2",children:"Status"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"p-2",children:e.property_id}),(0,a.jsx)("td",{className:"p-2",children:e.tenant_id}),(0,a.jsx)("td",{className:"p-2",children:e.due_date}),(0,a.jsxs)("td",{className:"p-2",children:["$",e.amount_due.toLocaleString()]}),(0,a.jsx)("td",{className:"p-2",children:e.amount_paid?"$".concat(e.amount_paid.toLocaleString()):"-"}),(0,a.jsx)("td",{className:"p-2",children:e.status})]},e.id))})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4395)}),_N_E=e.O()}]);